[目次](../../../目次.md) > 結合テスト > Webサービス> [認証・セッション 結合テスト 目次](目次.md) > 01. 入力検証・重複・ドメインブロック
# 01. 入力検証・重複・ドメインブロック

**観点**: 入力検証 / 重複 / ドメインブロック

### テストケース
- **[IT-01-001] 入力検査：ID未入力でエラー**  
  **Pre**: なし  
  **Step**: `POST /auth/register/start` with `{ "accountId": "", "email": "u@example.com" }`  
  **Expect**: `400`, `AUTH.INVALID_REQUEST`（`accountId` のフィールドエラーを含む）

- **[IT-01-002] 入力検査：メール不正形式**  
  **Step**: `email="not-mail"`  
  **Expect**: `400`, `AUTH.INVALID_EMAIL_FORMAT`

- **[IT-01-003] ドメインブロック**  
  **Pre**: `auth.email.blockedDomains` に `blocked.example` を設定  
  **Step**: `email="user@blocked.example"`  
  **Expect**: `400`, `AUTH.EMAIL_DOMAIN_BLOCKED`

- **[IT-01-004] ID重複**  
  **Pre**: `accountId="alice"` で登録済み  
  **Step**: 同一IDで `/auth/register/start`  
  **Expect**: `409`, `AUTH.ACCOUNT_ID_DUPLICATED`

- **[IT-01-005] メール重複**  
  **Pre**: `email="alice@example.com"` 登録済み  
  **Step**: 同一メールで `/auth/register/start`  
  **Expect**: `409`, `AUTH.EMAIL_DUPLICATED`

---
[目次](../../../目次.md) > 結合テスト > Webサービス> [認証・セッション 結合テスト 目次](目次.md) > 01. 入力検証・重複・ドメインブロック