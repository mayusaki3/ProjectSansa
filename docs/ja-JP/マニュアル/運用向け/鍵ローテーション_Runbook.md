[目次](../../目次.md) > マニュアル > 運用向け > 鍵ローテーション Runbook
# 鍵ローテーション Runbook

## 目的
JWT署名鍵および監査HMAC鍵の計画的ローテーションと緊急失効手順。

## 手順（計画）
1. KMSで新鍵を生成、`kid=YYYYMMDDhh` を付与
2. JWKSへ新鍵を追加（旧鍵は残す）
3. APIをロールアウト（新kidで署名開始、旧kid検証は継続）
4. グレース期間（7日）経過後、旧鍵をJWKSから削除

## 手順（緊急）
- 直ちに `logout_all`（`tv++`）→ JWKSから旧鍵削除 → 署名鍵更新

## テスト
- 新旧kid混在期間のE2E、古鍵拒否の確認

---
[目次](../../目次.md) > マニュアル > 運用向け > 鍵ローテーション Runbook
